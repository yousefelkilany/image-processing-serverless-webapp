---
import { DEFAULT_LOCALE, LOCALES, getLocalizedPathname } from "../i18n/utils";

const { pathname } = Astro.url;

const lang = Astro.params?.lang || DEFAULT_LOCALE;
---

<ul class="flex gap-1 w-min">
  {
    Object.keys(LOCALES).map((key) => (
      <li class="flex items-center text-white hover:fancy">
        {lang === key ? (
          <span class="fancy p-2 font-semibold text-sm">{key}</span>
        ) : (
          <a class="p-2 text-sm" href={getLocalizedPathname(pathname, key)}>
            {key}
          </a>
        )}
      </li>
    ))
  }
</ul>
